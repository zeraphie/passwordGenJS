{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/passwordGen.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","PasswordGen","_classCallCheck","this","constructor","default_length","keyspace","generateKeyspace","variable","maximum_random_integer","value","arguments","undefined","parseInt","minimum_length","console","log","errorTooLong","sets","default_sets","arrayKeySearch","character_sets","set","split","_set","password","randomInteger","generatePassword","needles","haystack","item","min","max","crypto","window","msCrypto","byteArray","Uint8Array","getRandomValues","range","Math","floor","lowercase_letters","uppercase_letters","numbers","special_characters","w","whitespace"],"mappings":"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","file":"pjax.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*==============================================================================\r\n Password generator class\r\n \r\n This is a javascript version of my PasswordGen PHP library accessible here:\r\n https://github.com/zeraphie/passwordGen\r\n \r\n This does not rely on any outside libraries apart from the window.crypto\r\n object, and has browser support for at least IE11+\r\n =============================================================================*/\r\nexport default class PasswordGen {\r\n    /**\r\n     * Create a new PasswordGen instance and setting the default character\r\n     * groups to be used by this class\r\n     */\r\n    constructor(){\r\n        /*--------------------------------------\r\n         Setup of the length and keyspace\r\n         variables\r\n         --------------------------------------*/\r\n        this.length = this.constructor.default_length;\r\n        this.keyspace = '';\r\n        \r\n        /*--------------------------------------\r\n         Setup the keyspace\r\n         --------------------------------------*/\r\n        this.generateKeyspace();\r\n    }\r\n    \r\n    /**\r\n     * Getter for minimum_length class variable for the minimum length of\r\n     * the password generated\r\n     *\r\n     * @return number                           The minimum password length\r\n     */\r\n    static get minimum_length(){\r\n        return 8;\r\n    }\r\n    \r\n    /**\r\n     * Getter for maximum_random_integer class variable for the maximum limit of\r\n     * random integer\r\n     *\r\n     * @return number                           The maximum random integer\r\n     */\r\n    static get maximum_random_integer(){\r\n        return 256;\r\n    }\r\n    \r\n    /**\r\n     * Getter for default_length class variable used to generate the default\r\n     * password length\r\n     *\r\n     * @return number                           The default password length\r\n     */\r\n    static get default_length(){\r\n        return 16;\r\n    }\r\n    \r\n    /**\r\n     * Getter for default_sets class variable used to generate the keyspace\r\n     *\r\n     * @return string                           The default sets\r\n     */\r\n    static get default_sets(){\r\n        return 'luns';\r\n    }\r\n    \r\n    /**\r\n     * Getter for lowercase_letters set used in generating the keyspace\r\n     *\r\n     * @return string                           All lower case letters\r\n     */\r\n    static get lowercase_letters(){\r\n        return 'abcdefghijklmnopqrstuvwxyz';\r\n    }\r\n    \r\n    /**\r\n     * Getter for uppercase_letters set used in generating the keyspace\r\n     *\r\n     * @return string                           All upper case letters\r\n     */\r\n    static get uppercase_letters(){\r\n        return 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n    }\r\n    \r\n    /**\r\n     * Getter for numbers set used in generating the keyspace\r\n     *\r\n     * @return string                           All single digits\r\n     */\r\n    static get numbers(){\r\n        return '1234567890';\r\n    }\r\n    \r\n    /**\r\n     * Getter for special_characters set used in generating the keyspace\r\n     *\r\n     * @return string                           All special characters used\r\n     */\r\n    static get special_characters(){\r\n        return '!@#$%&*?,./|[]{}()';\r\n    }\r\n    \r\n    /**\r\n     * Getter for whitespace set used in generating the keyspace\r\n     *\r\n     * @return string                           All whitespace characters used\r\n     */\r\n    static get whitespace(){\r\n        return ' ';\r\n    }\r\n    \r\n    /**\r\n     * Getter for whitespace set used in generating the keyspace\r\n     *\r\n     * @return string                           All whitespace characters used\r\n     */\r\n    static get character_sets(){\r\n        return {\r\n            'l': this.lowercase_letters,\r\n            'u': this.uppercase_letters,\r\n            'n': this.numbers,\r\n            's': this.special_characters,\r\n            'w': this.whitespace\r\n        };\r\n    }\r\n    \r\n    /**\r\n     * Test if any elements of an array exist as keys in another array\r\n     *\r\n     * @param  needles          array           The needles to search for\r\n     * @param  haystack         array           The haystack to search\r\n     * @return boolean                          Whether any needles exist as\r\n     *                                          array keys in the haystack\r\n     */\r\n    static arrayKeySearch(needles, haystack){\r\n        let i = 0, length = needles.length;\r\n        \r\n        while(i < length){\r\n            for(let item in haystack){\r\n                if(needles[i] === item){\r\n                    return true;\r\n                }\r\n            }\r\n            \r\n            i++;\r\n        }\r\n        \r\n        return false;\r\n    }\r\n    \r\n    /**\r\n     * Generate a cryptographically strong random number between two values\r\n     *\r\n     * @param  min              number          The minimum number\r\n     * @param  max              number          The maximum number\r\n     * @return integer\r\n     */\r\n    static randomInteger(min, max){\r\n        try {\r\n            if(max < this.maximum_random_integer){\r\n                let crypto = window.crypto || window.msCrypto;\r\n                let byteArray = new Uint8Array(1);\r\n                crypto.getRandomValues(byteArray);\r\n                \r\n                let range = max - min + 1;\r\n                \r\n                if(\r\n                    byteArray[0]\r\n                        >=\r\n                    Math.floor(this.maximum_random_integer / range) * range\r\n                ){\r\n                    return this.randomInteger(min, max);\r\n                }\r\n                \r\n                return min + (byteArray[0] % range);\r\n            } else {\r\n                throw `Sorry the maximum is too large\\n` +\r\n                `The maximum size is ${this.maximum_random_integer}\\n`;\r\n            }\r\n        } catch(e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Return an error message if a variable is too long\r\n     *\r\n     * @param  variable         string          The variable that's too long\r\n     * @return string                           The error message\r\n     */\r\n    errorTooLong(variable){\r\n        return `Sorry the ${variable} is too long\\n` +\r\n            `The maximum length is ${this.constructor.maximum_random_integer} characters\\n` +\r\n            `The default ${variable} is currently being used`;\r\n    }\r\n    \r\n    /**\r\n     * Set the length of the password, checking if it's an integer and\r\n     * higher than the minimum required length\r\n     *\r\n     * @param  value            integer     Length of the generated password\r\n     * @return PasswordGen      this        The current instance of PasswordGen\r\n     */\r\n    setLength(value = 0){\r\n        if(\r\n            value === parseInt(value)\r\n                &&\r\n            value >= this.constructor.minimum_length\r\n        ){\r\n            this.length = value;\r\n        }\r\n        \r\n        return this;\r\n    }\r\n    \r\n    /**\r\n     * Set the keyspace of the password generator, checking if it's set and not\r\n     * an empty string\r\n     *\r\n     * @param  keyspace         string      Sets to be used for generator\r\n     * @return PasswordGen      this        The current instance of PasswordGen\r\n     */\r\n    setKeyspace(keyspace = ''){\r\n        if(typeof keyspace === 'string' && keyspace !== ''){\r\n            if(keyspace.length < this.constructor.maximum_random_integer){\r\n                this.keyspace = keyspace;\r\n            } else {\r\n                console.log(this.errorTooLong('keyspace'));\r\n            }\r\n        }\r\n        \r\n        return this;\r\n    }\r\n    \r\n    /**\r\n     * Generate the keyspace of the password generator using the character\r\n     * groups\r\n     *\r\n     * @param  sets             string      Sets to be used for generator\r\n     * @return PasswordGen      this        The current instance of PasswordGen\r\n     */\r\n    generateKeyspace(sets = this.constructor.default_sets){\r\n        this.keyspace = '';\r\n        \r\n        /*--------------------------------------\r\n         Test if the sets variable is a string\r\n         and if any of the characters in it\r\n         are in the character_sets array's keys\r\n         --------------------------------------*/\r\n        if(\r\n            typeof sets === 'string'\r\n                &&\r\n            this.constructor.arrayKeySearch(\r\n                sets, this.constructor.character_sets\r\n            )\r\n        ){\r\n            /*--------------------------------------\r\n             Split the sets string on every\r\n             character and loop through them\r\n             --------------------------------------*/\r\n            for(let set in sets.split('')){\r\n                this.keyspace += this.constructor.character_sets[\r\n                    sets[set]\r\n                ];\r\n            }\r\n        } else {\r\n            for(let set in this.constructor.default_sets.split('')){\r\n                this.keyspace += this.constructor.character_sets[\r\n                    this.constructor.default_sets[set]\r\n                ];\r\n            }\r\n        }\r\n        \r\n        if(this.keyspace.length > this.constructor.maximum_random_integer){\r\n            console.log(this.errorTooLong('keyspace'));\r\n            this.generateKeyspace();\r\n        }\r\n        \r\n        return this;\r\n    }\r\n    \r\n    /**\r\n     * Generate the password by selecting a random character from\r\n     * the keyspace generated\r\n     *\r\n     * @return string           password    The generated password\r\n     */\r\n    generatePassword(){\r\n        let password = '';\r\n        \r\n        for(let i = 0; i < this.length; i++){\r\n            password += this.keyspace.split('')[\r\n                this.constructor.randomInteger(0, this.keyspace.length - 1)\r\n            ];\r\n        }\r\n        \r\n        return password;\r\n    }\r\n    \r\n    /**\r\n     * Getter for password\r\n     *\r\n     * @return string                       The generated password\r\n     */\r\n    get password(){\r\n        return this.generatePassword();\r\n    }\r\n}\r\n"]}